packages:
  - callr
  - raster
  - data.table
  - maptools
  - readr
  - RColorBrewer
  - ggplot2
  - mgcv
  - snow
  - dplyr
  - ape
  - parallel

sources:
  - R

targets:
  all:
    depends:
      - ms.pdf
      - cont2.5.grd
      - figures/multi_gam.png
      - figures/multi_gam_zae_diaz.png
      - tables/all_families_ranking.csv

  ms.pdf:
    command: latex_build_clean("ms.tex", "refs.bib")
    depends:
      - figures
  
  cont2.5.grd:
    command: get_cont_raster()

  figures:
    depends:
      - figures/sampling_in_try_by_family.pdf
      - figures/multi_gam_zae_diaz.png
      - figures/gam.pdf
  
  figures/multi_gam.png:
    command: plot_gbif_bins()
    
  figures/multi_gam_zae_diaz.png:
    command: plot_gbif_bins_zae_diaz()
    
  tables/all_families_ranking.csv:
    command: run_family_analysis()
